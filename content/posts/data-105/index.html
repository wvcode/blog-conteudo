<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Walter R. Paixão-Côrtes">
<meta name="dcterms.date" content="2023-02-07">
<meta name="description" content="Preparando dados como gente grande!">

<title>[VDP] Aula 05 - Pandas – WV Code - Educação e Consultoria</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(../../library/bars/bar_002_code.jpg);
background-size: cover;
      }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../library/logos/logo_000_wvcode.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">WV Code - Educação e Consultoria</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Sobre</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/wvcode"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">[VDP] Aula 05 - Pandas</h1>
                  <div>
        <div class="description">
          Preparando dados como gente grande!
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Visualização</div>
                <div class="quarto-category">Python</div>
                <div class="quarto-category">Pandas</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Walter R. Paixão-Côrtes </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 7, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução">Introdução</a></li>
  <li><a href="#instalando-pandas" id="toc-instalando-pandas" class="nav-link" data-scroll-target="#instalando-pandas">Instalando Pandas</a></li>
  <li><a href="#utilizando-pandas" id="toc-utilizando-pandas" class="nav-link" data-scroll-target="#utilizando-pandas">Utilizando Pandas</a>
  <ul class="collapse">
  <li><a href="#carregando-pandas-no-notebook" id="toc-carregando-pandas-no-notebook" class="nav-link" data-scroll-target="#carregando-pandas-no-notebook">Carregando Pandas no notebook</a></li>
  <li><a href="#carregando-os-dados" id="toc-carregando-os-dados" class="nav-link" data-scroll-target="#carregando-os-dados">Carregando os dados</a></li>
  <li><a href="#mas-não-é-só-isso" id="toc-mas-não-é-só-isso" class="nav-link" data-scroll-target="#mas-não-é-só-isso">Mas não é só isso…</a></li>
  <li><a href="#inspecionando-os-dados" id="toc-inspecionando-os-dados" class="nav-link" data-scroll-target="#inspecionando-os-dados">Inspecionando os dados</a></li>
  <li><a href="#filtrando-os-dados" id="toc-filtrando-os-dados" class="nav-link" data-scroll-target="#filtrando-os-dados">Filtrando os dados</a></li>
  <li><a href="#agregando-os-dados" id="toc-agregando-os-dados" class="nav-link" data-scroll-target="#agregando-os-dados">Agregando os dados</a></li>
  </ul></li>
  <li><a href="#encerrando" id="toc-encerrando" class="nav-link" data-scroll-target="#encerrando">Encerrando</a>
  <ul class="collapse">
  <li><a href="#navegação" id="toc-navegação" class="nav-link" data-scroll-target="#navegação">Navegação</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introdução" class="level2">
<h2 class="anchored" data-anchor-id="introdução">Introdução</h2>
<p>Olá Cientista de Dados!</p>
<p>Se você chegou até aqui, significa que já deve ter aprendido como carregar os dados no Google Colab utilizando as bibliotecas padrão do python. E deve ter percebido que a tarefa não é simples, e requer muitas linhas de código (Rapadura é doce mas não é mole não, diria o Yusuke Urameshi).</p>
<p>Justamente com a intenção de simplificar o trabalho dos cientistas e engenheiros de dados é que a biblioteca <strong>Pandas</strong> foi criada. Com a biblioteca Pandas, todo o trabalho de manipulação dos dados fica simplificado, rápido e mais organizado.</p>
</section>
<section id="instalando-pandas" class="level2">
<h2 class="anchored" data-anchor-id="instalando-pandas">Instalando Pandas</h2>
<p>Tenho uma boa notícia: como estamos utilizando o Google Colab para nossas aulas, ele já vem instalado no nosso ambiente! Mas caso você esteja também se aventurando em fazer este curso no VS Code, PyCharm, Sublime ou até mesmo Notepad, o comando para instalar a biblioteca Pandas é o seguinte:</p>
<pre class="shell"><code>(venv) $ pip install pandas</code></pre>
<p>Este comando irá instalar a biblioteca Pandas e todos as bibliotecas dependentes.</p>
</section>
<section id="utilizando-pandas" class="level2">
<h2 class="anchored" data-anchor-id="utilizando-pandas">Utilizando Pandas</h2>
<p>Iremos ver, passo a passo, como utilizar a biblioteca Pandas em nosso notebook Google Colab, passando pelos seus principais conceitos.</p>
<section id="carregando-pandas-no-notebook" class="level3">
<h3 class="anchored" data-anchor-id="carregando-pandas-no-notebook">Carregando Pandas no notebook</h3>
<p>A primeira coisa que devemos fazer é carregar a biblioteca em nosso notebook. Fazemos isso com o comando <code>import</code>.</p>
<div id="cell-11" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>É considerado uma boa prática ao carregar a biblioteca sempre utilizar o alias <code>pd</code>. Observe que todos os artigos na internet se utilizam essa mesma referência.</p>
</div>
</div>
</section>
<section id="carregando-os-dados" class="level3">
<h3 class="anchored" data-anchor-id="carregando-os-dados">Carregando os dados</h3>
<p>Na aula 3, aprendemos que uma maneira de carregar os dados em um notebook on Google Colab é a seguinte:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>pokemons <span class="op">=</span> {}</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'pokemons.csv'</span>, <span class="st">'r'</span>, encoding<span class="op">=</span><span class="st">'utf-8'</span>) <span class="im">as</span> arquivo:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  dados <span class="op">=</span> csv.DictReader(arquivo)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> pokemon <span class="kw">in</span> dados:</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> pokemon.items():</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>      pokemons.setdefault(key,[]).append(value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Utilizando pandas, isso será substituído por uma única linha:</p>
<div id="cell-16" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pokemons <span class="op">=</span> pd.read_csv(<span class="st">'pokemons.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ficou bem mais fácil, não é mesmo? Da mesma forma, verificar o conteúdo que foi carregado também se simplifica - vai disso aqui:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> indice <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">2</span>):    <span class="co"># executa um loop dos dois primeiros elementos do array</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(pokemons[indice])     <span class="co"># imprime o elemento</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>para isso aqui:</p>
<div id="cell-18" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pokemons.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Type 2</th>
<th data-quarto-table-cell-role="th">Abilities</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Att</th>
<th data-quarto-table-cell-role="th">Def</th>
<th data-quarto-table-cell-role="th">Spa</th>
<th data-quarto-table-cell-role="th">Spd</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Against Bug</th>
<th data-quarto-table-cell-role="th">Against Rock</th>
<th data-quarto-table-cell-role="th">Against Ghost</th>
<th data-quarto-table-cell-role="th">Against Dragon</th>
<th data-quarto-table-cell-role="th">Against Dark</th>
<th data-quarto-table-cell-role="th">Against Steel</th>
<th data-quarto-table-cell-role="th">Against Fairy</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Bulbasaur</td>
<td>Grass</td>
<td>Poison</td>
<td>['Chlorophyll', 'Overgrow']</td>
<td>45</td>
<td>49</td>
<td>49</td>
<td>65</td>
<td>65</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.7</td>
<td>6.9</td>
<td>14.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>Ivysaur</td>
<td>Grass</td>
<td>Poison</td>
<td>['Chlorophyll', 'Overgrow']</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>80</td>
<td>80</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>13.0</td>
<td>13.0</td>
</tr>
</tbody>
</table>

<p>2 rows × 44 columns</p>
</div>
</div>
</div>
</section>
<section id="mas-não-é-só-isso" class="level3">
<h3 class="anchored" data-anchor-id="mas-não-é-só-isso">Mas não é só isso…</h3>
<p>Outra grande vantagem de se utilizar pandas é que temos a nossa disposição um grande número de opções para carregar dados. Além do <code>read_csv</code>, temos readers especializados: <code>read_json</code>, <code>read_excel</code>, e por aí vai… Aconselho a dar uma olhada no manual do pandas <a href="https://pandas.pydata.org/docs/user_guide/io.html">aqui</a>.</p>
</section>
<section id="inspecionando-os-dados" class="level3">
<h3 class="anchored" data-anchor-id="inspecionando-os-dados">Inspecionando os dados</h3>
<p>Após termos os dados carregados, a nossa próxima atividade é inspecionar os dados. Além do comando que vimos acima <code>head()</code>, que pode nos mostrar as primeiras linhas do DataFrame, temos outras funções, como:</p>
<ul>
<li><code>tail()</code> - mostra as últimas linhas do DataFrame</li>
<li><code>sample()</code> - mostra linhas aleatórias do DataFrame</li>
<li><code>describe()</code> - mostra os valores de diversas medidas</li>
<li><code>info()</code> - mostra os campos do DataFrame com seus tipos</li>
<li><code>shape</code> - dá as dimensões (coluna, linha) do DataFrame</li>
</ul>
<p>Vamos ver em detalhes cada uma destas funções.</p>
<section id="head" class="level4">
<h4 class="anchored" data-anchor-id="head"><code>head()</code></h4>
<p>Esta função lista as primeiras linhas de dados. O pârametro é opcional, o que fará com que a função liste 10 linhas de dados.</p>
<div id="cell-25" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pokemons.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Type 2</th>
<th data-quarto-table-cell-role="th">Abilities</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Att</th>
<th data-quarto-table-cell-role="th">Def</th>
<th data-quarto-table-cell-role="th">Spa</th>
<th data-quarto-table-cell-role="th">Spd</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Against Bug</th>
<th data-quarto-table-cell-role="th">Against Rock</th>
<th data-quarto-table-cell-role="th">Against Ghost</th>
<th data-quarto-table-cell-role="th">Against Dragon</th>
<th data-quarto-table-cell-role="th">Against Dark</th>
<th data-quarto-table-cell-role="th">Against Steel</th>
<th data-quarto-table-cell-role="th">Against Fairy</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Bulbasaur</td>
<td>Grass</td>
<td>Poison</td>
<td>['Chlorophyll', 'Overgrow']</td>
<td>45</td>
<td>49</td>
<td>49</td>
<td>65</td>
<td>65</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.7</td>
<td>6.9</td>
<td>14.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>Ivysaur</td>
<td>Grass</td>
<td>Poison</td>
<td>['Chlorophyll', 'Overgrow']</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>80</td>
<td>80</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>13.0</td>
<td>13.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>Venusaur</td>
<td>Grass</td>
<td>Poison</td>
<td>['Chlorophyll', 'Overgrow']</td>
<td>80</td>
<td>82</td>
<td>83</td>
<td>100</td>
<td>100</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>2.0</td>
<td>100.0</td>
<td>25.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>3</td>
<td>Mega Venusaur</td>
<td>Grass</td>
<td>Poison</td>
<td>['Thick Fat']</td>
<td>80</td>
<td>100</td>
<td>123</td>
<td>122</td>
<td>120</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>2.4</td>
<td>155.5</td>
<td>27.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>4</td>
<td>Charmander</td>
<td>Fire</td>
<td>NaN</td>
<td>['Blaze', 'Solar Power']</td>
<td>39</td>
<td>52</td>
<td>43</td>
<td>60</td>
<td>50</td>
<td>...</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.5</td>
<td>0.6</td>
<td>8.5</td>
<td>23.6</td>
</tr>
</tbody>
</table>

<p>5 rows × 44 columns</p>
</div>
</div>
</div>
</section>
<section id="tail" class="level4">
<h4 class="anchored" data-anchor-id="tail"><code>tail()</code></h4>
<p>Esta função lista as últimas linhas de dados. O pârametro é opcional, o que fará com que a função liste 10 linhas de dados.</p>
<div id="cell-28" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>pokemons.tail(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Type 2</th>
<th data-quarto-table-cell-role="th">Abilities</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Att</th>
<th data-quarto-table-cell-role="th">Def</th>
<th data-quarto-table-cell-role="th">Spa</th>
<th data-quarto-table-cell-role="th">Spd</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Against Bug</th>
<th data-quarto-table-cell-role="th">Against Rock</th>
<th data-quarto-table-cell-role="th">Against Ghost</th>
<th data-quarto-table-cell-role="th">Against Dragon</th>
<th data-quarto-table-cell-role="th">Against Dark</th>
<th data-quarto-table-cell-role="th">Against Steel</th>
<th data-quarto-table-cell-role="th">Against Fairy</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1027</td>
<td>896</td>
<td>Glastrier</td>
<td>Ice</td>
<td>NaN</td>
<td>['Chilling Neigh']</td>
<td>100</td>
<td>145</td>
<td>130</td>
<td>65</td>
<td>110</td>
<td>...</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.2</td>
<td>800.0</td>
<td>165.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1028</td>
<td>897</td>
<td>Spectrier</td>
<td>Ghost</td>
<td>NaN</td>
<td>['Grim Neigh']</td>
<td>100</td>
<td>65</td>
<td>60</td>
<td>145</td>
<td>80</td>
<td>...</td>
<td>0.5</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.0</td>
<td>44.5</td>
<td>11.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1029</td>
<td>898</td>
<td>Calyrex</td>
<td>Psychic</td>
<td>Grass</td>
<td>['Unnerve']</td>
<td>100</td>
<td>80</td>
<td>80</td>
<td>80</td>
<td>80</td>
<td>...</td>
<td>4.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.1</td>
<td>7.7</td>
<td>6.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1030</td>
<td>898</td>
<td>Calyrex Ice Rider</td>
<td>Psychic</td>
<td>Ice</td>
<td>['As One']</td>
<td>100</td>
<td>165</td>
<td>150</td>
<td>85</td>
<td>130</td>
<td>...</td>
<td>2.0</td>
<td>2.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.4</td>
<td>809.1</td>
<td>140.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1031</td>
<td>898</td>
<td>Calyrex Shadow Rider</td>
<td>Psychic</td>
<td>Ghost</td>
<td>['As One']</td>
<td>100</td>
<td>85</td>
<td>80</td>
<td>165</td>
<td>100</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>4.0</td>
<td>1.0</td>
<td>4.0</td>
<td>1.0</td>
<td>1.0</td>
<td>2.4</td>
<td>53.6</td>
<td>9.3</td>
</tr>
</tbody>
</table>

<p>5 rows × 44 columns</p>
</div>
</div>
</div>
</section>
<section id="sample" class="level4">
<h4 class="anchored" data-anchor-id="sample"><code>sample()</code></h4>
<p>Enquanto <code>head()</code> e <code>tail()</code> mostra o início e o fim do conjunto de dados, o <code>sample()</code> traz linhas aleatórias do conjunto, o que pode ser bem interessante.</p>
<div id="cell-31" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>pokemons.sample(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Type 2</th>
<th data-quarto-table-cell-role="th">Abilities</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Att</th>
<th data-quarto-table-cell-role="th">Def</th>
<th data-quarto-table-cell-role="th">Spa</th>
<th data-quarto-table-cell-role="th">Spd</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Against Bug</th>
<th data-quarto-table-cell-role="th">Against Rock</th>
<th data-quarto-table-cell-role="th">Against Ghost</th>
<th data-quarto-table-cell-role="th">Against Dragon</th>
<th data-quarto-table-cell-role="th">Against Dark</th>
<th data-quarto-table-cell-role="th">Against Steel</th>
<th data-quarto-table-cell-role="th">Against Fairy</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">327</td>
<td>271</td>
<td>Lombre</td>
<td>Water</td>
<td>Grass</td>
<td>['Own Tempo', 'Rain Dish', 'Swift Swim']</td>
<td>60</td>
<td>50</td>
<td>50</td>
<td>60</td>
<td>70</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.2</td>
<td>32.5</td>
<td>22.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">514</td>
<td>433</td>
<td>Chingling</td>
<td>Psychic</td>
<td>NaN</td>
<td>['Levitate']</td>
<td>45</td>
<td>30</td>
<td>50</td>
<td>65</td>
<td>50</td>
<td>...</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.2</td>
<td>0.6</td>
<td>15.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">230</td>
<td>186</td>
<td>Politoed</td>
<td>Water</td>
<td>NaN</td>
<td>['Damp', 'Drizzle', 'Water Absorb']</td>
<td>90</td>
<td>75</td>
<td>75</td>
<td>90</td>
<td>100</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.1</td>
<td>33.9</td>
<td>28.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">849</td>
<td>732</td>
<td>Trumbeak</td>
<td>Normal</td>
<td>Flying</td>
<td>['Keen Eye', 'Pickup', 'Skill Link']</td>
<td>55</td>
<td>85</td>
<td>50</td>
<td>40</td>
<td>50</td>
<td>...</td>
<td>0.5</td>
<td>2.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.6</td>
<td>14.8</td>
<td>41.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">598</td>
<td>506</td>
<td>Lillipup</td>
<td>Normal</td>
<td>NaN</td>
<td>['Pickup', 'Run Away', 'Vital Spirit']</td>
<td>45</td>
<td>60</td>
<td>45</td>
<td>25</td>
<td>45</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.4</td>
<td>4.1</td>
<td>25.6</td>
</tr>
</tbody>
</table>

<p>5 rows × 44 columns</p>
</div>
</div>
</div>
</section>
<section id="describe" class="level4">
<h4 class="anchored" data-anchor-id="describe"><code>describe()</code></h4>
<p>Esta função nos ajuda a ter uma idéia dos valores que temos em nosso conjunto de dados. A função lista todas as colunas numéricas e apresenta os resultados para os seguintes cálculos estatísticos: média, desvio padrão, valor mínimo, percentil 25%, 50%, 75% e valor máximo.</p>
<p>Isso nos dá uma idéia da variabilidade dos nossos dados, bem como permite uma análise de correlação superficial entre os valores numéricos.</p>
<div id="cell-34" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>pokemons.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Att</th>
<th data-quarto-table-cell-role="th">Def</th>
<th data-quarto-table-cell-role="th">Spa</th>
<th data-quarto-table-cell-role="th">Spd</th>
<th data-quarto-table-cell-role="th">Spe</th>
<th data-quarto-table-cell-role="th">BST</th>
<th data-quarto-table-cell-role="th">Mean</th>
<th data-quarto-table-cell-role="th">Standard Deviation</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Against Bug</th>
<th data-quarto-table-cell-role="th">Against Rock</th>
<th data-quarto-table-cell-role="th">Against Ghost</th>
<th data-quarto-table-cell-role="th">Against Dragon</th>
<th data-quarto-table-cell-role="th">Against Dark</th>
<th data-quarto-table-cell-role="th">Against Steel</th>
<th data-quarto-table-cell-role="th">Against Fairy</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>...</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
<td>1032.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>439.226744</td>
<td>69.906008</td>
<td>80.526163</td>
<td>74.609496</td>
<td>72.918605</td>
<td>72.139535</td>
<td>68.548450</td>
<td>438.648256</td>
<td>73.108043</td>
<td>20.028104</td>
<td>...</td>
<td>1.002180</td>
<td>1.239826</td>
<td>1.025678</td>
<td>0.974806</td>
<td>1.074855</td>
<td>0.992006</td>
<td>1.094234</td>
<td>1.286822</td>
<td>71.879845</td>
<td>136.735756</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>261.871350</td>
<td>26.189155</td>
<td>32.542374</td>
<td>30.905972</td>
<td>32.773495</td>
<td>27.625876</td>
<td>30.219526</td>
<td>120.675545</td>
<td>20.112591</td>
<td>10.830298</td>
<td>...</td>
<td>0.613111</td>
<td>0.699361</td>
<td>0.577269</td>
<td>0.378040</td>
<td>0.475292</td>
<td>0.511859</td>
<td>0.535159</td>
<td>1.391501</td>
<td>132.872741</td>
<td>3111.666658</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1.000000</td>
<td>1.000000</td>
<td>5.000000</td>
<td>5.000000</td>
<td>10.000000</td>
<td>20.000000</td>
<td>5.000000</td>
<td>175.000000</td>
<td>29.166667</td>
<td>0.000000</td>
<td>...</td>
<td>0.250000</td>
<td>0.250000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.250000</td>
<td>0.250000</td>
<td>0.250000</td>
<td>0.100000</td>
<td>0.100000</td>
<td>0.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>211.750000</td>
<td>50.000000</td>
<td>55.000000</td>
<td>50.000000</td>
<td>50.000000</td>
<td>50.000000</td>
<td>45.000000</td>
<td>330.000000</td>
<td>55.000000</td>
<td>12.801910</td>
<td>...</td>
<td>0.500000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>0.500000</td>
<td>1.000000</td>
<td>0.600000</td>
<td>9.000000</td>
<td>18.600000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>434.500000</td>
<td>67.000000</td>
<td>78.000000</td>
<td>70.000000</td>
<td>65.000000</td>
<td>70.000000</td>
<td>65.000000</td>
<td>459.000000</td>
<td>76.500000</td>
<td>18.484228</td>
<td>...</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>29.750000</td>
<td>28.350000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>667.250000</td>
<td>83.000000</td>
<td>100.000000</td>
<td>90.000000</td>
<td>95.000000</td>
<td>90.000000</td>
<td>90.000000</td>
<td>515.000000</td>
<td>85.833333</td>
<td>24.835709</td>
<td>...</td>
<td>1.000000</td>
<td>2.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.600000</td>
<td>71.275000</td>
<td>42.200000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>898.000000</td>
<td>255.000000</td>
<td>190.000000</td>
<td>230.000000</td>
<td>194.000000</td>
<td>230.000000</td>
<td>200.000000</td>
<td>780.000000</td>
<td>130.000000</td>
<td>103.215659</td>
<td>...</td>
<td>4.000000</td>
<td>4.000000</td>
<td>4.000000</td>
<td>2.000000</td>
<td>4.000000</td>
<td>4.000000</td>
<td>4.000000</td>
<td>20.000000</td>
<td>999.900000</td>
<td>99990.000000</td>
</tr>
</tbody>
</table>

<p>8 rows × 39 columns</p>
</div>
</div>
</div>
</section>
<section id="info" class="level4">
<h4 class="anchored" data-anchor-id="info"><code>info()</code></h4>
<p>Outra função útil é a função <code>info()</code> que traz a descrição da estrutura do DataFrame. Com esta função, você pode verificar os seguintes dados:</p>
<ul>
<li>lista colunas do DataFrame</li>
<li>para cada coluna, quantos elementos não-nulos ela possui</li>
<li>para cada coluna, seu tipo</li>
<li>E ainda o número total de linhas e colunas no DataFrame</li>
</ul>
<div id="cell-37" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>pokemons.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 1032 entries, 0 to 1031
Data columns (total 44 columns):
 #   Column                   Non-Null Count  Dtype  
---  ------                   --------------  -----  
 0   Number                   1032 non-null   int64  
 1   Name                     1032 non-null   object 
 2   Type 1                   1032 non-null   object 
 3   Type 2                   548 non-null    object 
 4   Abilities                1032 non-null   object 
 5   HP                       1032 non-null   int64  
 6   Att                      1032 non-null   int64  
 7   Def                      1032 non-null   int64  
 8   Spa                      1032 non-null   int64  
 9   Spd                      1032 non-null   int64  
 10  Spe                      1032 non-null   int64  
 11  BST                      1032 non-null   int64  
 12  Mean                     1032 non-null   float64
 13  Standard Deviation       1032 non-null   float64
 14  Generation               1032 non-null   float64
 15  Experience type          1032 non-null   object 
 16  Experience to level 100  1032 non-null   int64  
 17  Final Evolution          1032 non-null   float64
 18  Catch Rate               1032 non-null   int64  
 19  Legendary                1032 non-null   float64
 20  Mega Evolution           1032 non-null   float64
 21  Alolan Form              1032 non-null   float64
 22  Galarian Form            1032 non-null   float64
 23  Against Normal           1032 non-null   float64
 24  Against Fire             1032 non-null   float64
 25  Against Water            1032 non-null   float64
 26  Against Electric         1032 non-null   float64
 27  Against Grass            1032 non-null   float64
 28  Against Ice              1032 non-null   float64
 29  Against Fighting         1032 non-null   float64
 30  Against Poison           1032 non-null   float64
 31  Against Ground           1032 non-null   float64
 32  Against Flying           1032 non-null   float64
 33  Against Psychic          1032 non-null   float64
 34  Against Bug              1032 non-null   float64
 35  Against Rock             1032 non-null   float64
 36  Against Ghost            1032 non-null   float64
 37  Against Dragon           1032 non-null   float64
 38  Against Dark             1032 non-null   float64
 39  Against Steel            1032 non-null   float64
 40  Against Fairy            1032 non-null   float64
 41  Height                   1032 non-null   float64
 42  Weight                   1032 non-null   float64
 43  BMI                      1032 non-null   float64
dtypes: float64(29), int64(10), object(5)
memory usage: 354.9+ KB</code></pre>
</div>
</div>
</section>
<section id="shape" class="level4">
<h4 class="anchored" data-anchor-id="shape"><code>shape</code></h4>
<p>Esta não é uma função, mas sim uma propriedade, que retorna uma tupla com as dimensões de linha e coluna do DataFrame.</p>
<div id="cell-40" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>pokemons.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>(1032, 44)</code></pre>
</div>
</div>
</section>
</section>
<section id="filtrando-os-dados" class="level3">
<h3 class="anchored" data-anchor-id="filtrando-os-dados">Filtrando os dados</h3>
<p>Agora vamos aprender como executar uma das tarefas mais comuns de manipular DataFrames com o objetivo de realizar análises: filtragem dos dados. A versão atual do pandas trouxe algumas funções que nos facilitam enormemente o processo. Mas, com o objetivo de equipa-los com o máximo de informação possível, vamos também aprender os métodos mais conhecidos.</p>
<p>Mas, antes de mostrarmos como realizar os filtros, vamos explicar alguns conceitos básicos, mas bem relevantes para a operação de filtragem dos dados.</p>
<section id="acessando-uma-coluna-do-dataframe" class="level4">
<h4 class="anchored" data-anchor-id="acessando-uma-coluna-do-dataframe"><em>Acessando uma coluna do DataFrame</em></h4>
<p>Pode parecer óbvio, mas para acessar a coluna de um DataFrame, basta fazer o seguinte:</p>
<div id="cell-46" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tipos <span class="op">=</span> pokemons[<span class="st">"Type 1"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Assim, a variável tipos conterá o que chamamos de uma Series, que é um array <code>numpy</code> (biblioteca especializada para criação de arrays numéricos) que contém todas as linhas daquela coluna. Para comprovar isso, vamos imprimir o conteúdo.</p>
<div id="cell-48" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tipos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>0         Grass
1         Grass
2         Grass
3         Grass
4          Fire
         ...   
1027        Ice
1028      Ghost
1029    Psychic
1030    Psychic
1031    Psychic
Name: Type 1, Length: 1032, dtype: object</code></pre>
</div>
</div>
<p>Parece interessante. Mas e se quisessemos criar um novo DataFrame apenas com as colunas Number, Name e Type 1? Parece simples, basta enviar ao DataFrame um array com o nome das colunas que quero extrair.</p>
<div id="cell-50" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sub_df <span class="op">=</span> pokemons[[<span class="st">"Number"</span>, <span class="st">"Name"</span>, <span class="st">"Type 1"</span>]]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>sub_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type 1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Bulbasaur</td>
<td>Grass</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>Ivysaur</td>
<td>Grass</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>Venusaur</td>
<td>Grass</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>3</td>
<td>Mega Venusaur</td>
<td>Grass</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>4</td>
<td>Charmander</td>
<td>Fire</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1027</td>
<td>896</td>
<td>Glastrier</td>
<td>Ice</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1028</td>
<td>897</td>
<td>Spectrier</td>
<td>Ghost</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1029</td>
<td>898</td>
<td>Calyrex</td>
<td>Psychic</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1030</td>
<td>898</td>
<td>Calyrex Ice Rider</td>
<td>Psychic</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1031</td>
<td>898</td>
<td>Calyrex Shadow Rider</td>
<td>Psychic</td>
</tr>
</tbody>
</table>

<p>1032 rows × 3 columns</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Observe a questão da sintaxe de array: quando queremos apenas uma coluna a sintaxe de array não é necessária, ela se aplica apenas a múltiplos campos.</p>
</div>
</div>
<p>Mas, e como podemos acessar uma linha específica de um DataFrame? Se você está seguindo a linha de raciocínio, já imaginou que não é da maneira tradicional. Na verdade, é exatamente ao contrário do que estamos acostumados. Primeiro acessamos a coluna, e depois a linha, enquanto que em conjuntos de dados em formato tabular largo, primeiro acessamos a linha e depois a coluna.</p>
<div id="cell-53" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>pokemons[<span class="st">"Name"</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>'Bulbasaur'</code></pre>
</div>
</div>
</section>
<section id="percorrendo-um-dataframe" class="level4">
<h4 class="anchored" data-anchor-id="percorrendo-um-dataframe">Percorrendo um DataFrame</h4>
<p>Interessante, certo? Mas isso levanta o seguinte questionamento: quando vou manipular os dados, como filtra-los ou fazer alguma modificação? Nos conjuntos de dados mais tradicionais, eu geralmente percorro o meu conjunto de dados linha a linha e faço os filtros e então altero as colunas. Como fazer isso em pandas?</p>
<div id="cell-56" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, pokemon <span class="kw">in</span> pokemons.iterrows():</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> index <span class="op">&lt;=</span> <span class="dv">2</span>:</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(pokemon[<span class="st">"Name"</span>])</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Bulbasaur
Ivysaur
Venusaur</code></pre>
</div>
</div>
<p>Como pode ser visto no código acima, basta usarmos a função <code>iterrows()</code> e iremos manipular o DataFrame como uma estrutura de dados mais tradicional, como um array de dicionário de dados. No código acima, fizemos um filtro que pega apenas as linhas com index menor ou igual 2, e mostra apenas o nome. Se DataFrames fossem estruturas de dados tradicionais, isso seria a maneira mais lógica de executar esse comando. Mas com pandas, podemos fazer isso:</p>
<div id="cell-58" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>pokemons[pokemons[<span class="st">"Number"</span>] <span class="op">&lt;=</span> <span class="dv">3</span>][<span class="st">"Name"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>0        Bulbasaur
1          Ivysaur
2         Venusaur
3    Mega Venusaur
Name: Name, dtype: object</code></pre>
</div>
</div>
<p>Wow, em uma única linha fizemos o filtro de linha e a seleção de coluna, e a principal vantagem sendo que este comando continuou retornando um DataFrame, o que ainda nos permite continuar trabalhando de forma eficiente com os dados que eu escolhi!</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Embora a utilização da função iterrows() pareça ser a forma mais natural e fácil de se trabalhar com Dataframes Pandas, é com a certeza a que apresenta a pior performance. Então, faça um esforço e aprenda muito bem os métodos mais “pandônicos” de manipular Dataframes, Cientista de Dados!</p>
</div>
</div>
<p>Esta linha também nos introduz ao primeiro jeito de realizar filtros de linha: adicionando a expressão lógica nos primeiros parenteses. Parece simples, embora para referenciar ao campo que será utilizado no filtro, eu ainda precise referenciar o próprio DataFrame. E esse foi apenas um filtro simples. Como seria utilizar mais de um campo no filtro? Vamos ver agora mesmo.</p>
<div id="cell-62" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>pokemons[(pokemons[<span class="st">"Number"</span>] <span class="op">&lt;</span> <span class="dv">11</span>) <span class="op">&amp;</span> (pokemons[<span class="st">"Type 1"</span>] <span class="op">==</span> <span class="st">"Bug"</span>)][<span class="st">"Name"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>13    Caterpie
Name: Name, dtype: object</code></pre>
</div>
</div>
<p>Podemos perceber duas coisas: cada condição de filtro deve estar envolta em parenteses (vá em frente, se remover, teremos um erro), e em vez de usar o conector lógico tradicional AND ou OR, utilizamos &amp; (AND) ou | (OR). E quanto mais condições, pior será para lermos com clareza nosso código.</p>
<p>Uma variação deste tipo de filtragem é a utilização da propriedade <code>loc</code>. Ela nos permite acessar linhas diretamente, e utilizando a notação de manipulação de arrays, filtrar rapidamente o DataFrame. Vamos a um exemplo: gostaria de extrair 10 linhas do DataFrame, iniciando na linha 10.</p>
<div id="cell-64" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>pokemons.loc[<span class="dv">10</span>:<span class="dv">19</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Type 2</th>
<th data-quarto-table-cell-role="th">Abilities</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Att</th>
<th data-quarto-table-cell-role="th">Def</th>
<th data-quarto-table-cell-role="th">Spa</th>
<th data-quarto-table-cell-role="th">Spd</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Against Bug</th>
<th data-quarto-table-cell-role="th">Against Rock</th>
<th data-quarto-table-cell-role="th">Against Ghost</th>
<th data-quarto-table-cell-role="th">Against Dragon</th>
<th data-quarto-table-cell-role="th">Against Dark</th>
<th data-quarto-table-cell-role="th">Against Steel</th>
<th data-quarto-table-cell-role="th">Against Fairy</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>8</td>
<td>Wartortle</td>
<td>Water</td>
<td>NaN</td>
<td>['Rain Dish', 'Torrent']</td>
<td>59</td>
<td>63</td>
<td>80</td>
<td>65</td>
<td>80</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.0</td>
<td>22.5</td>
<td>22.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>9</td>
<td>Blastoise</td>
<td>Water</td>
<td>NaN</td>
<td>['Rain Dish', 'Torrent']</td>
<td>79</td>
<td>83</td>
<td>100</td>
<td>85</td>
<td>105</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.6</td>
<td>85.5</td>
<td>33.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>9</td>
<td>Mega Blastoise</td>
<td>Water</td>
<td>NaN</td>
<td>['Mega Launcher']</td>
<td>79</td>
<td>103</td>
<td>120</td>
<td>135</td>
<td>115</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>1.6</td>
<td>101.1</td>
<td>39.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>10</td>
<td>Caterpie</td>
<td>Bug</td>
<td>NaN</td>
<td>['Run Away', 'Shield Dust']</td>
<td>45</td>
<td>30</td>
<td>35</td>
<td>20</td>
<td>20</td>
<td>...</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.3</td>
<td>2.9</td>
<td>32.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>11</td>
<td>Metapod</td>
<td>Bug</td>
<td>NaN</td>
<td>['Shed Skin']</td>
<td>50</td>
<td>20</td>
<td>55</td>
<td>25</td>
<td>25</td>
<td>...</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.7</td>
<td>9.9</td>
<td>20.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>12</td>
<td>Butterfree</td>
<td>Bug</td>
<td>Flying</td>
<td>['Tinted Lens']</td>
<td>60</td>
<td>45</td>
<td>50</td>
<td>90</td>
<td>80</td>
<td>...</td>
<td>0.5</td>
<td>4.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.1</td>
<td>32.0</td>
<td>26.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>13</td>
<td>Weedle</td>
<td>Bug</td>
<td>Poison</td>
<td>['Run Away', 'Shield Dust']</td>
<td>40</td>
<td>35</td>
<td>30</td>
<td>20</td>
<td>20</td>
<td>...</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.3</td>
<td>3.2</td>
<td>35.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>14</td>
<td>Kakuna</td>
<td>Bug</td>
<td>Poison</td>
<td>['Shed Skin']</td>
<td>45</td>
<td>25</td>
<td>50</td>
<td>25</td>
<td>25</td>
<td>...</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>0.6</td>
<td>10.0</td>
<td>27.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>15</td>
<td>Beedrill</td>
<td>Bug</td>
<td>Poison</td>
<td>['Sniper', 'Swarm']</td>
<td>65</td>
<td>90</td>
<td>40</td>
<td>45</td>
<td>80</td>
<td>...</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.0</td>
<td>29.5</td>
<td>29.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>15</td>
<td>Mega Beedrill</td>
<td>Bug</td>
<td>Poison</td>
<td>['Adaptability']</td>
<td>65</td>
<td>150</td>
<td>40</td>
<td>15</td>
<td>80</td>
<td>...</td>
<td>0.5</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.5</td>
<td>1.4</td>
<td>40.5</td>
<td>20.7</td>
</tr>
</tbody>
</table>

<p>10 rows × 44 columns</p>
</div>
</div>
</div>
<p>Bem prático. A propriedade <code>loc</code> também pode entender o filtro anterior.</p>
<p>E agora, a última maneira pela qual podemos realizar filtros em nossos DataFrames e a mais recomendada devido a legibilidade do código gerado: vamos utilizar a função <code>query()</code>. Esta função permite que escrevamos filtros para o DataFrame como se o mesmo fosse um banco de dados, deixando o código mais limpo, pois eliminamos a necessidade de referenciar o DataFrame a cada filtro, bem como parênteses redundantes. Vamos ver um exemplo:</p>
<div id="cell-66" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>pokemons.query(<span class="st">"Number &lt; 11 and `Type 1` == 'Bug'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Number</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Type 2</th>
<th data-quarto-table-cell-role="th">Abilities</th>
<th data-quarto-table-cell-role="th">HP</th>
<th data-quarto-table-cell-role="th">Att</th>
<th data-quarto-table-cell-role="th">Def</th>
<th data-quarto-table-cell-role="th">Spa</th>
<th data-quarto-table-cell-role="th">Spd</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Against Bug</th>
<th data-quarto-table-cell-role="th">Against Rock</th>
<th data-quarto-table-cell-role="th">Against Ghost</th>
<th data-quarto-table-cell-role="th">Against Dragon</th>
<th data-quarto-table-cell-role="th">Against Dark</th>
<th data-quarto-table-cell-role="th">Against Steel</th>
<th data-quarto-table-cell-role="th">Against Fairy</th>
<th data-quarto-table-cell-role="th">Height</th>
<th data-quarto-table-cell-role="th">Weight</th>
<th data-quarto-table-cell-role="th">BMI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>10</td>
<td>Caterpie</td>
<td>Bug</td>
<td>NaN</td>
<td>['Run Away', 'Shield Dust']</td>
<td>45</td>
<td>30</td>
<td>35</td>
<td>20</td>
<td>20</td>
<td>...</td>
<td>1.0</td>
<td>2.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.3</td>
<td>2.9</td>
<td>32.2</td>
</tr>
</tbody>
</table>

<p>1 rows × 44 columns</p>
</div>
</div>
</div>
<p>Assim ficou bem mais limpo. Uma única observação é quanto ao uso do caracter “`” para campos com nomes compostos.</p>
</section>
</section>
<section id="agregando-os-dados" class="level3">
<h3 class="anchored" data-anchor-id="agregando-os-dados">Agregando os dados</h3>
<p>Em muitos casos, não queremos apenas filtrar os dados, mas também realizar totalizações, calcular valores médios, ou até mesmo cálculos mais complexos, de dados que devem ser agregados em um ou mais níveis.</p>
<p>Como exemplo, vamos supor que quisessemos totalizar o número de pokemons de acordo com o seu tipo.</p>
<div id="cell-70" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>pokemons.groupby([<span class="st">'Type 1'</span>])[<span class="st">"Name"</span>].count().reset_index(name<span class="op">=</span><span class="st">"Pokemons"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Pokemons</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Bug</td>
<td>81</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Dark</td>
<td>46</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Dragon</td>
<td>42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Electric</td>
<td>59</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Fairy</td>
<td>22</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Fighting</td>
<td>42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Fire</td>
<td>64</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Flying</td>
<td>8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Ghost</td>
<td>41</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Grass</td>
<td>91</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Ground</td>
<td>41</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Ice</td>
<td>38</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Normal</td>
<td>114</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Poison</td>
<td>40</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Psychic</td>
<td>77</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Rock</td>
<td>59</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Steel</td>
<td>36</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Water</td>
<td>131</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Mas quanta coisa nova naquela linha, não é mesmo? Vamos explicar passo a passo:</p>
<ul>
<li>A primeira função é o groupby, onde especificamos por qual coluna ou colunas iremos fazer o agrupamento. No nosso exemplo, utilizamos a coluna ‘Type 1’</li>
<li>Em seguida, especificamos que, além da coluna ‘Type 1’, queremos apenas a coluna ‘Name’ nos nossos resultados</li>
<li>Logo após, indicamos que o valor original da coluna ‘Name’ será substituído pelo resultado da contagem de quantas linhas do DataFrame tem aquele valor específico da coluna ‘Type 1’</li>
<li>E por último, utilizamos uma função que irá trocar o nome da coluna ‘Name’ por um nome mais significativo</li>
</ul>
<p>Ufa, e tudo isso em apenas uma linha!</p>
<p>A fórmula para a agregação é sempre a mesma: groupby() e tipo de calculo (sum, count, mean, …). Por exemplo, no código abaixo, vamos agrupar também pela geração.</p>
<div id="cell-72" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>pokemons.groupby([<span class="st">'Generation'</span>, <span class="st">'Type 1'</span>])[<span class="st">'Name'</span>].count().reset_index(name<span class="op">=</span><span class="st">'Pokemons'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Generation</th>
<th data-quarto-table-cell-role="th">Type 1</th>
<th data-quarto-table-cell-role="th">Pokemons</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>Bug</td>
<td>12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1.0</td>
<td>Dragon</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1.0</td>
<td>Electric</td>
<td>9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1.0</td>
<td>Fairy</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1.0</td>
<td>Fighting</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">129</td>
<td>8.0</td>
<td>Poison</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">130</td>
<td>8.0</td>
<td>Psychic</td>
<td>11</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">131</td>
<td>8.0</td>
<td>Rock</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">132</td>
<td>8.0</td>
<td>Steel</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">133</td>
<td>8.0</td>
<td>Water</td>
<td>9</td>
</tr>
</tbody>
</table>

<p>134 rows × 3 columns</p>
</div>
</div>
</div>
<p>E se quisermos saber a média de pontos de vida por geração de pokemon? Parece simples…</p>
<div id="cell-74" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>pokemons.groupby([<span class="st">'Generation'</span>])[<span class="st">'HP'</span>].mean().reset_index(name<span class="op">=</span><span class="st">'Average HP'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Generation</th>
<th data-quarto-table-cell-role="th">Average HP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>64.211921</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>70.980000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3.0</td>
<td>65.326087</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4.0</td>
<td>72.775862</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>71.601227</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6.0</td>
<td>73.323308</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>7.0</td>
<td>69.793103</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8.0</td>
<td>72.808696</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="encerrando" class="level2">
<h2 class="anchored" data-anchor-id="encerrando">Encerrando</h2>
<p>Nesta aula, conhecemos um pouco mais a respeito da biblioteca Pandas e como ela pode nos ajudar a carregar e analisar conjuntos de dados que podem ser utilizados em nossas visualizações, de forma simplificada e eficiente.</p>
<p>Dentro do processo de utilização de Pandas, aprendemos as executar as principais tarefas:</p>
<ul>
<li>aprender sobre os metadados do conjunto de dados, utilizando: describe, info e shape</li>
<li>listar conteúdo com head, tail, sample e iterrows</li>
<li>acessar células diretamente</li>
<li>realizar filtros em cima do DataFrame utilizando o método colunar, utilizando loc ou utilizando a função query</li>
<li>agregar os dados para sumarizar a informação e facilitar a análise.</li>
</ul>
<p>Se você quiser saber mais sobre Pandas, eis aqui alguns links que podem ajudar:</p>
<ul>
<li><a href="https://pandas.pydata.org/docs/#">Pandas - Documentação Oficial</a></li>
<li><a href="https://www.w3schools.com/python/pandas/default.asp">Tutorial Pandas - W3 Schools</a></li>
<li><a href="https://www.kaggle.com/learn/pandas">Tutorial Pandas - Kaggle</a></li>
<li><a href="https://www.hashtagtreinamentos.com/introducao-pandas-python?gclid=Cj0KCQjwk7ugBhDIARIsAGuvgPbJfKDsQ2lVfj8ndsjjYq81gRiEuGbzVacfpmT03P6BhDCQVFX1EYAaAo2FEALw_wcB">Vídeo sobre Pandas - Hashtag Treinamentos</a></li>
</ul>
<section id="navegação" class="level3">
<h3 class="anchored" data-anchor-id="navegação">Navegação</h3>
<table class="caption-top">
<thead>
<tr class="header">
<th><a href="../../posts/data-104/index.html">&lt; Anterior</a></th>
<th>|</th>
<th style="text-align: right;"><a href="../../posts/data-106/index.html">Próximo &gt;</a></th>
</tr>
</thead>

</table>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>